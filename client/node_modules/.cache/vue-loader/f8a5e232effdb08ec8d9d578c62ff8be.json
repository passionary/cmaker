{"remainingRequest":"/home/passionary/Public/cmaker/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/passionary/Public/cmaker/client/src/components/PrivateVideos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/passionary/Public/cmaker/client/src/components/PrivateVideos.vue","mtime":1592748483700},{"path":"/home/passionary/Public/cmaker/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/passionary/Public/cmaker/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/passionary/Public/cmaker/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/passionary/Public/cmaker/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hlbGxvV29ybGQnLAogIGRhdGE6ICgpID0+ICh7CiAgICBjb250ZW50OiAnJywKICAgIGluZGV4OjAsCiAgICB2aWRlb3M6W10sCiAgICBvZmZzZXQ6MCwKICAgIHBhZ2VzOltdCiAgfSksICAgCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbJ2F1dGgnXSksCiAgICByZW1vdmUoZWwpIHsKICAgICAgY29uc3QgdmlkZW8gPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLmZpbHRlcihlID0+IC90eXBlPXZpZGVvLy50ZXN0KGUpKS5maW5kKGUgPT4gZS5tYXRjaChuZXcgUmVnRXhwKGBuYW1lPSR7ZWwubmFtZX1gKSkpCiAgICAgIHRoaXMudmlkZW9zLnNwbGljZSh0aGlzLnZpZGVvcy5maW5kSW5kZXgoZSA9PiBlLm5hbWUgPT09IGVsLm5hbWUpLDEpCiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHZpZGVvKQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWyd1c2VyJ10pCiAgfSwKICBhc3luYyBtb3VudGVkKCl7CiAgICBhd2FpdCB0aGlzLmF1dGgoKQogICAgYXhpb3MuZ2V0KGBodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL3JlcXVlc3RzP3VzZXJfaWQ9JHt0aGlzLnVzZXIuaWR9JnR5cGU9dmlkZW9gKQogICAgLnRoZW4ocmVzID0+IHsKICAgICAgdGhpcy52aWRlb3MgPSByZXMuZGF0YQogICAgfSkKICAgIC8vIGZvcihsZXQgaT0wO2k8T2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKS5sZW5ndGg7aSsrKXsKICAgIC8vICAgaWYgKE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSlbaV0gIT0gJ2xvZ2xldmVsOndlYnBhY2stZGV2LXNlcnZlcicpewogICAgLy8gICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpW2ldLnNwbGl0KCcsJykKICAgIC8vICAgICBjb25zdCB2YWxzID0ga2V5cy5tYXAoZSA9PiBlLnNwbGl0KCc9JykpCiAgICAvLyAgICAgaWYodmFsc1swXVsxXSA9PSAndmlkZW8nKQogICAgLy8gICAgIHRoaXMudmlkZW9zLnB1c2goewogICAgLy8gICAgICAgbmFtZTp2YWxzWzFdWzFdLAogICAgLy8gICAgICAgY29udGVudDpsb2NhbFN0b3JhZ2UuZ2V0SXRlbShPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpW2ldKQogICAgLy8gICAgIH0pCiAgICAvLyAgIH0KICAgIC8vIH0gICAgICAgCiAgfQp9Cg=="},{"version":3,"sources":["PrivateVideos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PrivateVideos.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"videos h-75\">\n    <div class=\"row\" v-if=\"videos.length\">\n      <div class=\"col s4 m4\" v-for=\"(el,index) in videos\" :key=\"index\">\n        <div class=\"card small\">\n          <div class=\"card-image\">\n            <video :src=\"'http://127.0.0.1:8000/storage/' + el.content\" controls=\"\"></video>\n          </div>          \n          <div class=\"card-action\">\n            <a class=\"text\">{{el.name}}</a>\n            <a href=\"\" @click.prevent=\"remove(el)\" class=\"remove\">&times;</a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"no-content center-align\" v-else><span>no videos</span></div>  \n  </div>\n</template>\n\n<style scoped>  \n  .videos{\n    position: relative;\n    padding: 0 20px 0 20px;\n  }\n  .card-action {\n    display: -webkit-flex;\n    display: -moz-flex;\n    display: -ms-flex;\n    display: -o-flex;\n    display: flex;\n    justify-content: space-between;\n  }\n  .card-action a {\n    line-height: 1;\n  }  \n  .text {\n    margin-top: 7px;\n  }\n  .remove {\n    font-size: 28px;\n    margin-right: 0 !important;\n  }\n  .card-image video {\n    width: 100%;\n  }\n  .no-content {    \n    margin: 0 auto;\n    margin-top: 270px;\n  }\n  .no-content span{\n    font-size: 44px;\n    text-transform: uppercase;\n    border-bottom: 1px solid rgba(0,0,0,0.2);\n    font-family: TitilliumWeb-LightItalic;\n  }\n</style>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nexport default {\n  name: 'HelloWorld',\n  data: () => ({\n    content: '',\n    index:0,\n    videos:[],\n    offset:0,\n    pages:[]\n  }),   \n  methods: {\n    ...mapActions(['auth']),\n    remove(el) {\n      const video = Object.keys(localStorage).filter(e => /type=video/.test(e)).find(e => e.match(new RegExp(`name=${el.name}`)))\n      this.videos.splice(this.videos.findIndex(e => e.name === el.name),1)\n      localStorage.removeItem(video)\n    }\n  },\n  computed: {\n    ...mapGetters(['user'])\n  },\n  async mounted(){\n    await this.auth()\n    axios.get(`http://127.0.0.1:8000/api/requests?user_id=${this.user.id}&type=video`)\n    .then(res => {\n      this.videos = res.data\n    })\n    // for(let i=0;i<Object.keys(localStorage).length;i++){\n    //   if (Object.keys(localStorage)[i] != 'loglevel:webpack-dev-server'){\n    //     const keys = Object.keys(localStorage)[i].split(',')\n    //     const vals = keys.map(e => e.split('='))\n    //     if(vals[0][1] == 'video')\n    //     this.videos.push({\n    //       name:vals[1][1],\n    //       content:localStorage.getItem(Object.keys(localStorage)[i])\n    //     })\n    //   }\n    // }       \n  }\n}\n</script>\n"]}]}