{"remainingRequest":"/home/passionary/Public/cmaker/client/node_modules/babel-loader/lib/index.js!/home/passionary/Public/cmaker/client/src/router/index.js","dependencies":[{"path":"/home/passionary/Public/cmaker/client/src/router/index.js","mtime":1592733488788},{"path":"/home/passionary/Public/cmaker/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/passionary/Public/cmaker/client/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvcGFzc2lvbmFyeS9QdWJsaWMvY21ha2VyL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL2hvbWUvcGFzc2lvbmFyeS9QdWJsaWMvY21ha2VyL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBIb21lIGZyb20gJy4uL3ZpZXdzL0hvbWUudnVlJzsKaW1wb3J0IHsgZ2V0Q29va2llIH0gZnJvbSAnLi4vbW9kdWxlcyc7ClZ1ZS51c2UoVnVlUm91dGVyKTsKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogJy8nLAogIG5hbWU6ICdob21lJywKICBtZXRhOiB7CiAgICBhdXRoOiB0cnVlCiAgfSwKICBjb21wb25lbnQ6IEhvbWUsCiAgY2hpbGRyZW46IFt7CiAgICBwYXRoOiAnLycsCiAgICBuYW1lOiAnYmFzZScsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi4vY29tcG9uZW50cy9NYWluJyk7CiAgICB9LAogICAgbWV0YTogewogICAgICBhdXRoOiB0cnVlCiAgICB9CiAgfSwgewogICAgcGF0aDogJy9ib29rL2NyZWF0ZScsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi4vY29tcG9uZW50cy9Cb29rQ3JlYXRlcicpOwogICAgfSwKICAgIG1ldGE6IHsKICAgICAgYXV0aDogdHJ1ZQogICAgfQogIH0sIHsKICAgIHBhdGg6ICcvYXJ0aWNsZS9jcmVhdGUnLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvQXJ0aWNsZUNyZWF0ZXInKTsKICAgIH0sCiAgICBtZXRhOiB7CiAgICAgIGF1dGg6IHRydWUKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnL3ZpZGVvL2NyZWF0ZScsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi4vY29tcG9uZW50cy9WaWRlb0NyZWF0ZXInKTsKICAgIH0sCiAgICBtZXRhOiB7CiAgICAgIGF1dGg6IHRydWUKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnL3NlbGYtYm9va3MnLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvUHJpdmF0ZUJvb2tzJyk7CiAgICB9LAogICAgbWV0YTogewogICAgICBhdXRoOiB0cnVlCiAgICB9CiAgfSwgewogICAgcGF0aDogJy9zZWxmLWFydGljbGVzJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCcuLi9jb21wb25lbnRzL1ByaXZhdGVBcnRpY2xlcycpOwogICAgfSwKICAgIG1ldGE6IHsKICAgICAgYXV0aDogdHJ1ZQogICAgfQogIH0sIHsKICAgIHBhdGg6ICcvc2VsZi12aWRlb3MnLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvUHJpdmF0ZVZpZGVvcycpOwogICAgfSwKICAgIG1ldGE6IHsKICAgICAgYXV0aDogdHJ1ZQogICAgfQogIH0sIHsKICAgIHBhdGg6ICcvc2VsZi1ib29rLzpiaycsCiAgICBuYW1lOiAnYm9vaycsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi4vY29tcG9uZW50cy9Cb29rJyk7CiAgICB9LAogICAgbWV0YTogewogICAgICBhdXRoOiB0cnVlCiAgICB9CiAgfSwgewogICAgcGF0aDogJy9ib29rL2VkaXQvOmJrJywKICAgIG5hbWU6ICdib29rLWVkaXQnLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvQm9va0NyZWF0ZXInKTsKICAgIH0sCiAgICBtZXRhOiB7CiAgICAgIGF1dGg6IHRydWUKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnL2FydGljbGUvZWRpdC86YXJ0JywKICAgIG5hbWU6ICdhcnRpY2xlLWVkaXQnLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvQXJ0aWNsZUNyZWF0ZXInKTsKICAgIH0sCiAgICBtZXRhOiB7CiAgICAgIGF1dGg6IHRydWUKICAgIH0KICB9XQp9LCB7CiAgcGF0aDogJy9sb2dpbicsCiAgbmFtZTogJ2xvZ2luJywKICBtZXRhOiB7CiAgICBhdXRoOiBmYWxzZQogIH0sCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCcuLi9jb21wb25lbnRzL0xvZ2luJyk7CiAgfQp9LCB7CiAgcGF0aDogJy9yZWdpc3RlcicsCiAgbmFtZTogJ3JlZ2lzdGVyJywKICBtZXRhOiB7CiAgICBhdXRoOiBmYWxzZQogIH0sCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCcuLi9jb21wb25lbnRzL1JlZ2lzdGVyJyk7CiAgfQp9LCB7CiAgcGF0aDogJy9lcnJvcicsCiAgbmFtZTogJ2Vycm9yJywKICBtZXRhOiB7CiAgICBhdXRoOiBmYWxzZSwKICAgIGVycm9yOiB0cnVlCiAgfSwKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvRXJyb3InKTsKICB9Cn1dOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlczogcm91dGVzCn0pOwp2YXIgcmVkdWNlZFJvdXRlcyA9IHJvdXRlcy5yZWR1Y2UoZnVuY3Rpb24gKHAsIGkpIHsKICByZXR1cm4gaS5jaGlsZHJlbiA/IHAuY29uY2F0KFt7CiAgICBuYW1lOiBpLm5hbWUKICB9XS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGkuY2hpbGRyZW4pKSkgOiBwLmNvbmNhdChpLnBhdGggIT09ICcvZXJyb3InICYmIGkpOwp9LCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgcmV0dXJuICEhZTsKfSk7CnJvdXRlci5iZWZvcmVFYWNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICB2YXIgcmVxdWVzdDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCJodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL3Rva2VuP3Rva2VuPSIuY29uY2F0KGdldENvb2tpZSgndG9rZW4nKSkpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgcmVxdWVzdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFUlJPUiB3aXRoIHNlcnZlciBjb25uZWN0aW9uJyk7CgogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBpZiAocmVxdWVzdCA9PT0gdW5kZWZpbmVkICYmIHJlZHVjZWRSb3V0ZXMuZmluZEluZGV4KGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGUubmFtZSA9PT0gdG8ubmFtZTsKICAgICAgICAgICAgfSkgIT09IC0xKSBuZXh0KCcvZXJyb3InKTtlbHNlIGlmICh0by5tZXRhLmF1dGggJiYgcmVxdWVzdC5kYXRhLnRva2VuID09PSBmYWxzZSkgbmV4dCgnL2xvZ2luJyk7ZWxzZSB7CiAgICAgICAgICAgICAgaWYgKHJlcXVlc3QgIT09IHVuZGVmaW5lZCAmJiAhdG8ubWV0YS5lcnJvciAmJiByZWR1Y2VkUm91dGVzLmZpbmRJbmRleChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGUubmFtZSA9PT0gdG8ubmFtZTsKICAgICAgICAgICAgICB9KSAhPT0gLTEpIG5leHQoKTtlbHNlIGlmIChyZXF1ZXN0ID09PSB1bmRlZmluZWQpIG5leHQoKTtlbHNlIGNvbnNvbGUud2FybignTk8gcm91dGUnKTsKICAgICAgICAgICAgfQoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA2XV0pOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyLCBfeDMpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpKTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["/home/passionary/Public/cmaker/client/src/router/index.js"],"names":["Vue","axios","VueRouter","Home","getCookie","use","routes","path","name","meta","auth","component","children","error","router","mode","base","process","env","BASE_URL","reducedRoutes","reduce","p","i","concat","filter","e","beforeEach","to","from","next","get","request","console","undefined","findIndex","data","token","warn"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport axios from 'axios'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\nimport { getCookie } from '../modules'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    meta:{auth:true},\n    component: Home,\n    children:[\n      {\n        path: '/',\n        name:'base',\n        component: () => import('../components/Main'),\n        meta:{auth:true},\n      },\n      {\n        path: '/book/create',\n        component: () => import('../components/BookCreater'),\n        meta:{auth:true},\n      },\n      {\n        path: '/article/create',\n        component: () => import('../components/ArticleCreater'),\n        meta:{auth:true},\n      },\n      {\n        path: '/video/create',\n        component: () => import('../components/VideoCreater'),\n        meta:{auth:true},\n      },\n    \t{\n      \tpath: '/self-books',    \t\n      \tcomponent: () => import('../components/PrivateBooks'),\n        meta:{auth:true},\n    \t},\n      {\n        path: '/self-articles',      \n        component: () => import('../components/PrivateArticles'),\n        meta:{auth:true},\n      },\n      {\n        path: '/self-videos',      \n        component: () => import('../components/PrivateVideos'),\n        meta:{auth:true},\n      },\n    \t{\n      \tpath: '/self-book/:bk',    \t\n      \tname:'book',\n      \tcomponent: () => import('../components/Book'),\n        meta:{auth:true},\n    \t},\n      {\n        path: '/book/edit/:bk',     \n        name:'book-edit',\n        component: () => import('../components/BookCreater'),\n        meta:{auth:true},\n      },\n      {\n        path: '/article/edit/:art',\n        name:'article-edit',\n        component: () => import('../components/ArticleCreater'),\n        meta:{auth:true},\n      }\n    ],\n  },\n  {\n    path: '/login',\n    name: 'login',\n    meta:{auth:false},\n    component: () => import('../components/Login')\n  },\n  {\n    path: '/register',\n    name: 'register',\n    meta:{auth:false},\n    component: () => import('../components/Register')\n  },\n  {\n    path: '/error',\n    name: 'error',\n    meta:{auth:false,error:true},\n    component: () => import('../components/Error')\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\nconst reducedRoutes = routes.reduce((p,i) => \n  i.children ? \n    p.concat([{name:i.name},...i.children])\n  : p.concat(i.path !== '/error' && i)\n,[]).filter(e => !!e)\nrouter.beforeEach(async (to, from, next) => {  \n  let request\n  try {\n    request = await axios.get(`http://127.0.0.1:8000/api/token?token=${getCookie('token')}`)\n  } catch (e) {\n    console.error('ERROR with server connection')\n  }\n  if(request === undefined && reducedRoutes.findIndex(e => e.name === to.name) !== -1)\n    next('/error')\n  else if(to.meta.auth && request.data.token === false) next('/login')\n  else {\n    if(request !== undefined && !to.meta.error && reducedRoutes.findIndex(e => e.name === to.name) !== -1) next()\n    else if(request === undefined) next()\n    else console.warn('NO route')\n  }\n})\nexport default router"]}]}