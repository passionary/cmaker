(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32de59ff"],{"07ac":function(e,t,a){var r=a("23e7"),n=a("6f53").values;r({target:"Object",stat:!0},{values:function(e){return n(e)}})},"30af":function(e,t,a){},"3b49":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"books",staticClass:"books"},[a("button",{staticClass:"save btn cyan",on:{click:e.show}},[e._v("save")]),e.$route.params.bk?a("router-link",{staticClass:"text",attrs:{to:"/self-books"}},[a("i",{staticClass:"material-icons"},[e._v("arrow_back")])]):e._e(),a("nmessage",{attrs:{nmessage:e.nmessage}}),a("nerror",{attrs:{error:e.error}}),a("div",{staticClass:"input-field name-field"},[e.$route.params.bk&&e.$route.params.bk.book?a("input",{staticClass:"validate",attrs:{id:"name",type:"text",placeholder:"Book name",disabled:"true"},domProps:{value:e.$route.params.bk.book.name}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"validate",attrs:{type:"text",id:"name",placeholder:"Book name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),a("div",{staticClass:"articles d-flex justify-content-between flex-wrap"},e._l(e.bookData,(function(t,r){return a("div",{ref:"article",refInFor:!0,staticClass:"article"},[a("div",{staticClass:"input-field"},[e.$route.params.bk&&e.$route.params.bk.book?a("textarea",{staticClass:"materialize-textarea",attrs:{id:"first",name:r,placeholder:"left page"},domProps:{value:t.left.get("content")?t.left.get("content"):""},on:{change:function(t){return e.save(t)}}}):a("textarea",{staticClass:"materialize-textarea",attrs:{id:"first",name:r,placeholder:"left page"},on:{change:function(t){return e.save(t)}}})]),a("div",{staticClass:"input-field"},[e.$route.params.bk&&e.$route.params.bk.book?a("textarea",{staticClass:"materialize-textarea",attrs:{id:"second",name:r,placeholder:"right page"},domProps:{value:t.right.get("content")?t.right.get("content"):""},on:{change:function(t){return e.save(t)}}}):a("textarea",{staticClass:"materialize-textarea",attrs:{id:"second",name:r,placeholder:"right page"},on:{change:function(t){return e.save(t)}}})])])})),0),a("button",{staticClass:"adder btn cyan",on:{click:e.addPages}},[e._v("add pages")])],1)},n=[],s=(a("4160"),a("d81d"),a("b0c0"),a("4ec9"),a("4fad"),a("d3b7"),a("07ac"),a("3ca3"),a("159b"),a("ddb0"),a("96cf"),a("1da1")),o=a("5530"),i=a("ade3"),c=a("2f62"),u={name:"HelloWorld",data:function(){return Object(i["a"])({bookData:[],name:"",created:[]},"name","")},computed:Object(o["a"])({},Object(c["c"])(["user","error","nmessage"])),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["b"])(["auth"])),Object(c["d"])(["setError","setMessage"])),{},{addPages:function(){var e=this;this.bookData.push({left:new Map,right:new Map}),setTimeout((function(){e.$refs.article[e.$refs.article.length-1].classList.add("appearing")}),100)},save:function(e){var t="left page"==e.target.placeholder?"left":"right";this.bookData[+e.target.name][t].set("content",e.target.value)},show:function(){var e=this,t=[];this.bookData.forEach((function(e,a){var r=[];r.push(e.left.get("content")?{content:e.left.get("content")}:{content:""},e.right.get("content")?{content:e.right.get("content")}:{content:""}),t.push(r)})),console.log(t,this.bookData),this.$route.params.bk||this.created[0]?axios.post("http://127.0.0.1:8000/api/save-book",{id:this.created[0]?this.created[1]:this.$route.params.bk.book.id,pages:JSON.stringify(t)}).then((function(t){console.log(t),t.data.errors||t.data.errors2?e.setError(Object.values(t.data.errors)[0]&&Object.values(t.data.errors)[0][0]||Object.values(t.data.errors2)[0]&&Object.values(t.data.errors2)[0][0]):e.setMessage(t.data.message||"")})):this.name?fetch("http://127.0.0.1:8000/api/create-book",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({user_id:this.user.id,name:this.name,pages:JSON.stringify(t)})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.errors||t.errors2?e.setError(Object.values(t.errors)[0]&&Object.values(t.errors)[0][0]||Object.values(t.errors2)[0]&&Object.values(t.errors2)[0][0]):(e.setMessage("your book created successfully"),e.created[0]=!0,e.created[1]=t.id)})):this.setError("book must have a name")},bookFuller:function(){for(var e=0;e<3;e++)this.bookData.push({left:new Map,right:new Map})}}),mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.auth();case 2:if(!e.$route.params.bk){t.next=21;break}e.name=e.$route.params.bk.book.name,e.bookData=e.$route.params.bk.book.pages.map((function(e,t){return new Map(Object.entries(e))})),a=[],r=0;case 7:if(!(r<e.bookData.length)){t.next=17;break}if(n=e.bookData[r],s=e.bookData[r+1],!s){t.next=14;break}return a.push({left:n,right:s}),r++,t.abrupt("continue",14);case 14:r++,t.next=7;break;case 17:e.bookData=a,setTimeout((function(){e.$refs.article.forEach((function(e){return e.classList.add("appearing")}))}),100),t.next=23;break;case 21:e.bookFuller(),setTimeout((function(){e.$refs.article.forEach((function(e){return e.classList.add("appearing")}))}),100);case 23:case"end":return t.stop()}}),t)})))()}},f=u,l=(a("46af"),a("2877")),d=Object(l["a"])(f,r,n,!1,null,"ebefda7e",null);t["default"]=d.exports},"46af":function(e,t,a){"use strict";var r=a("30af"),n=a.n(r);n.a},"4ec9":function(e,t,a){"use strict";var r=a("6d61"),n=a("6566");e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n)},"4fad":function(e,t,a){var r=a("23e7"),n=a("6f53").entries;r({target:"Object",stat:!0},{entries:function(e){return n(e)}})},6566:function(e,t,a){"use strict";var r=a("9bf2").f,n=a("7c73"),s=a("e2cc"),o=a("0366"),i=a("19aa"),c=a("2266"),u=a("7dd0"),f=a("2626"),l=a("83ab"),d=a("f183").fastKey,p=a("69f3"),v=p.set,h=p.getterFor;e.exports={getConstructor:function(e,t,a,u){var f=e((function(e,r){i(e,f,t),v(e,{type:t,index:n(null),first:void 0,last:void 0,size:0}),l||(e.size=0),void 0!=r&&c(r,e[u],e,a)})),p=h(t),b=function(e,t,a){var r,n,s=p(e),o=g(e,t);return o?o.value=a:(s.last=o={index:n=d(t,!0),key:t,value:a,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=o),r&&(r.next=o),l?s.size++:e.size++,"F"!==n&&(s.index[n]=o)),e},g=function(e,t){var a,r=p(e),n=d(t);if("F"!==n)return r.index[n];for(a=r.first;a;a=a.next)if(a.key==t)return a};return s(f.prototype,{clear:function(){var e=this,t=p(e),a=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete a[r.index],r=r.next;t.first=t.last=void 0,l?t.size=0:e.size=0},delete:function(e){var t=this,a=p(t),r=g(t,e);if(r){var n=r.next,s=r.previous;delete a.index[r.index],r.removed=!0,s&&(s.next=n),n&&(n.previous=s),a.first==r&&(a.first=n),a.last==r&&(a.last=s),l?a.size--:t.size--}return!!r},forEach:function(e){var t,a=p(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:a.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!g(this,e)}}),s(f.prototype,a?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return b(this,0===e?0:e,t)}}:{add:function(e){return b(this,e=0===e?0:e,e)}}),l&&r(f.prototype,"size",{get:function(){return p(this).size}}),f},setStrong:function(e,t,a){var r=t+" Iterator",n=h(t),s=h(r);u(e,t,(function(e,t){v(this,{type:r,target:e,state:n(e),kind:t,last:void 0})}),(function(){var e=s(this),t=e.kind,a=e.last;while(a&&a.removed)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?"keys"==t?{value:a.key,done:!1}:"values"==t?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),f(t)}}},"6d61":function(e,t,a){"use strict";var r=a("23e7"),n=a("da84"),s=a("94ca"),o=a("6eeb"),i=a("f183"),c=a("2266"),u=a("19aa"),f=a("861d"),l=a("d039"),d=a("1c7e"),p=a("d44e"),v=a("7156");e.exports=function(e,t,a){var h=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),g=h?"set":"add",m=n[e],k=m&&m.prototype,x=m,w={},y=function(e){var t=k[e];o(k,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!f(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return b&&!f(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!f(e))&&t.call(this,0===e?0:e)}:function(e,a){return t.call(this,0===e?0:e,a),this})};if(s(e,"function"!=typeof m||!(b||k.forEach&&!l((function(){(new m).entries().next()})))))x=a.getConstructor(t,e,h,g),i.REQUIRED=!0;else if(s(e,!0)){var O=new x,j=O[g](b?{}:-0,1)!=O,D=l((function(){O.has(1)})),E=d((function(e){new m(e)})),C=!b&&l((function(){var e=new m,t=5;while(t--)e[g](t,t);return!e.has(-0)}));E||(x=t((function(t,a){u(t,x,e);var r=v(new m,t,x);return void 0!=a&&c(a,r[g],r,h),r})),x.prototype=k,k.constructor=x),(D||C)&&(y("delete"),y("has"),h&&y("get")),(C||j)&&y(g),b&&k.clear&&delete k.clear}return w[e]=x,r({global:!0,forced:x!=m},w),p(x,e),b||a.setStrong(x,e,h),x}},"6f53":function(e,t,a){var r=a("83ab"),n=a("df75"),s=a("fc6a"),o=a("d1e7").f,i=function(e){return function(t){var a,i=s(t),c=n(i),u=c.length,f=0,l=[];while(u>f)a=c[f++],r&&!o.call(i,a)||l.push(e?[a,i[a]]:i[a]);return l}};e.exports={entries:i(!0),values:i(!1)}},bb2f:function(e,t,a){var r=a("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d81d:function(e,t,a){"use strict";var r=a("23e7"),n=a("b727").map,s=a("1dde"),o=a("ae40"),i=s("map"),c=o("map");r({target:"Array",proto:!0,forced:!i||!c},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},f183:function(e,t,a){var r=a("d012"),n=a("861d"),s=a("5135"),o=a("9bf2").f,i=a("90e3"),c=a("bb2f"),u=i("meta"),f=0,l=Object.isExtensible||function(){return!0},d=function(e){o(e,u,{value:{objectID:"O"+ ++f,weakData:{}}})},p=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,u)){if(!l(e))return"F";if(!t)return"E";d(e)}return e[u].objectID},v=function(e,t){if(!s(e,u)){if(!l(e))return!0;if(!t)return!1;d(e)}return e[u].weakData},h=function(e){return c&&b.REQUIRED&&l(e)&&!s(e,u)&&d(e),e},b=e.exports={REQUIRED:!1,fastKey:p,getWeakData:v,onFreeze:h};r[u]=!0}}]);
//# sourceMappingURL=chunk-32de59ff.27bfa47d.js.map